<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba - Edici√≥n Costo Servicios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="container mt-4">
        <div class="card">
            <div class="card-header">
                <h4>Prueba - Edici√≥n Costo Servicios</h4>
            </div>
            <div class="card-body">
                <h5>üîç Diagn√≥stico del Problema:</h5>
                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Problema reportado:</strong> El modal sale vac√≠o al editar
                </div>
                
                <h5>üîß Pasos para Diagnosticar:</h5>
                <ol>
                    <li><strong>Paso 1 - Verificar datos en localStorage:</strong>
                        <ul>
                            <li>Abre las herramientas de desarrollador (F12)</li>
                            <li>Ve a la pesta√±a "Console"</li>
                            <li>Ejecuta: <code>console.log(JSON.parse(localStorage.getItem('costoServicios')))</code></li>
                            <li>Verifica que haya datos y que tengan la estructura correcta</li>
                        </ul>
                    </li>
                    <li><strong>Paso 2 - Crear un servicio de prueba:</strong>
                        <ul>
                            <li>Ve a "Costo Servicios"</li>
                            <li>Crea un nuevo servicio con datos completos</li>
                            <li>Guarda el servicio</li>
                            <li>Verifica que aparezca en la lista</li>
                        </ul>
                    </li>
                    <li><strong>Paso 3 - Probar edici√≥n:</strong>
                        <ul>
                            <li>Haz clic en "Editar" del servicio creado</li>
                            <li>Observa los logs en la consola</li>
                            <li>Verifica que el modal se abra con los datos</li>
                        </ul>
                    </li>
                    <li><strong>Paso 4 - Verificar logs:</strong>
                        <ul>
                            <li>Busca estos logs en la consola:</li>
                            <li><code>üîç Editando servicio con ID: [ID]</code></li>
                            <li><code>‚úÖ Servicio encontrado: [objeto]</code></li>
                            <li><code>üìù Datos cargados en formulario: [objeto]</code></li>
                            <li><code>‚úÖ Modal abierto correctamente</code></li>
                        </ul>
                    </li>
                </ol>
                
                <h5>üéØ Logs Esperados:</h5>
                <div class="alert alert-info">
                    <strong>Logs que deber√≠as ver en la consola:</strong><br>
                    <code>üîç Editando servicio con ID: [ID del servicio]</code><br>
                    <code>üìä Costo servicios disponibles: [Array de servicios]</code><br>
                    <code>‚úÖ Servicio encontrado: {id: "...", codigo: "...", tipo: "...", descripcion: "...", precio: ...}</code><br>
                    <code>üìù Datos cargados en formulario: [objeto con datos]</code><br>
                    <code>üîç Verificando tipo: [tipo del servicio]</code><br>
                    <code>‚úÖ Tipo predefinido/personalizado detectado</code><br>
                    <code>üéØ Configuraci√≥n final del formulario: [configuraci√≥n]</code><br>
                    <code>‚úÖ Modal abierto correctamente</code>
                </div>
                
                <h5>‚ùå Posibles Errores:</h5>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Error</th>
                            <th>Causa</th>
                            <th>Soluci√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>‚ùå No se encontr√≥ el servicio con ID: [ID]</code></td>
                            <td>El ID no existe en costoServicios</td>
                            <td>Verificar que el servicio existe en localStorage</td>
                        </tr>
                        <tr>
                            <td><code>Cannot read property 'value' of null</code></td>
                            <td>Elemento del DOM no encontrado</td>
                            <td>Verificar que los IDs del HTML coincidan</td>
                        </tr>
                        <tr>
                            <td>Modal no se abre</td>
                            <td>Error en Bootstrap Modal</td>
                            <td>Verificar que Bootstrap est√© cargado</td>
                        </tr>
                        <tr>
                            <td>Datos no se cargan</td>
                            <td>Problema con costoServicios</td>
                            <td>Verificar localStorage y estructura de datos</td>
                        </tr>
                    </tbody>
                </table>
                
                <h5>üîß Comandos de Depuraci√≥n:</h5>
                <div class="alert alert-secondary">
                    <strong>Comandos para ejecutar en la consola:</strong><br>
                    <code>// Verificar datos en localStorage</code><br>
                    <code>console.log(JSON.parse(localStorage.getItem('costoServicios')))</code><br><br>
                    <code>// Verificar variable costoServicios</code><br>
                    <code>console.log(costoServicios)</code><br><br>
                    <code>// Verificar elementos del DOM</code><br>
                    <code>console.log(document.getElementById('edit-costo-servicio-id'))</code><br>
                    <code>console.log(document.getElementById('costo-servicio-codigo'))</code><br>
                    <code>console.log(document.getElementById('costo-servicio-tipo'))</code><br>
                    <code>console.log(document.getElementById('costo-servicio-descripcion'))</code><br>
                    <code>console.log(document.getElementById('costo-servicio-precio'))</code><br><br>
                    <code>// Verificar modal</code><br>
                    <code>console.log(document.getElementById('createCostoServicioModal'))</code>
                </div>
                
                <h5>üìã Checklist de Verificaci√≥n:</h5>
                <ul>
                    <li>‚úÖ ¬øHay datos en localStorage?</li>
                    <li>‚úÖ ¬øLa variable costoServicios tiene datos?</li>
                    <li>‚úÖ ¬øLos elementos del DOM existen?</li>
                    <li>‚úÖ ¬øEl modal se abre correctamente?</li>
                    <li>‚úÖ ¬øLos datos se cargan en el formulario?</li>
                    <li>‚úÖ ¬øEl tipo se detecta correctamente?</li>
                    <li>‚úÖ ¬øEl campo personalizado aparece si es necesario?</li>
                </ul>
                
                <div class="alert alert-success">
                    <strong>‚úÖ Despu√©s de la verificaci√≥n:</strong>
                    <ul>
                        <li>Si encuentras errores, comp√°rtelos en la consola</li>
                        <li>Si todo funciona, el problema puede ser temporal</li>
                        <li>Los logs te ayudar√°n a identificar exactamente d√≥nde est√° el problema</li>
                    </ul>
                </div>
                
                <a href="index.html" class="btn btn-primary">Ir al Sistema</a>
            </div>
        </div>
    </div>
</body>
</html>
